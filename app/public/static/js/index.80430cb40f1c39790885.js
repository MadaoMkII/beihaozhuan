webpackJsonp([1],{0:function(e,t,a){a("j1ja"),e.exports=a("YEaf")},"0Y+T":function(e,t){},1581:function(e,t){},"4ml/":function(e,t){},"4sNu":function(e,t){},REb1:function(e,t){},VN0c:function(e,t,a){"use strict";var s=a("//Fk"),n=a.n(s),i=a("mtWM"),o=a.n(i),r=a("mw3O"),c=a.n(r),l=o.a.create({baseURL:"http://www.mystery-vr.com",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Credentials":!0}}),u=o.a.create({baseURL:"http://www.mystery-vr.com",withCredentials:!0,headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Credentials":!0}}),d=o.a.create({baseURL:"http://www.mystery-vr.com",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Credentials":!0}}),m={request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return new n.a(function(s,n){var i={url:e,method:a};"get"===a.toLowerCase()?i.params=c.a.stringify(t):i.data=c.a.stringify(t),l(i).then(function(e){s(e.data)}).catch(function(e){e.response&&e.response.data.msg?alert(e.response.data.msg):alert("服务器忙")})})},formRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return new n.a(function(s,n){var i={url:e,method:a};"get"===a.toLowerCase()?i.params=t:i.data=t,u(i).then(function(e){s(e.data)}).catch(function(e){e.response&&e.response.data.msg?alert(e.response.data.msg):alert("服务器忙")})})},formRequestios:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return new n.a(function(s,n){var i={url:e,method:a};"get"===a.toLowerCase()?i.params=c.a.stringify(t):i.data=c.a.stringify(t),d(i).then(function(e){s(e.data)}).catch(function(e){e.response&&e.response.data.msg?alert(e.response.data.msg):alert("服务器忙")})})}};t.a=m},XqYu:function(e,t){},YEaf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"globalCon"},[t("keep-alive",[this.$route.meta.keepAlive?t("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():t("router-view")],1)])},staticRenderFns:[]};var i=a("VU/8")({name:"App",data:function(){return{path:"",tabs:!1}},mounted:function(){var e=this.$route.path;this.tabs="/"===e||"/task"===e||"/shop"===e||"/mine"===e},watch:{$route:function(e,t){var a=this.$route.path;this.tabs="/"===a||"/task"===a||"/shop"===a||"/mine"===a}}},n,!1,function(e){a("4sNu")},null,null).exports,o=a("/ocq"),r={name:"Invitation",data:function(){return{uuid:""}},created:function(){this.uuid=this.$route.query.uuid},mounted:function(){window.getUUid=this.getUUid},methods:{getUUid:function(){return this.uuid}}},c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{width:"100%",height:"100%"}},[t("iframe",{attrs:{src:"../../../static/h5/index.html",frameborder:"0",name:"showHere",scrolling:"auto",width:"100%",height:"100%"}})])}]};var l=a("VU/8")(r,c,!1,function(e){a("1581")},"data-v-25e4b6d7",null).exports,u=a("fxnj"),d=a.n(u),m=a("ktzB"),p={name:"Share",data:function(){return{radio:"",value:"",people:"全部来宾",table:"请选择桌号",status:"请选择状态",showPickerOne:!1,showPickerTwo:!1,showPickerThree:!1,listData:[],selectOptions:["全部来宾","男方","女方"],statusSelectOptions:["请选择状态","已入场","未入场"],tableSelectOptions:["请选择桌号","A","B","C","D","E","F","G","H","I","J","K","L"]}},mounted:function(){this.getList();var e=encodeURIComponent(window.location.href);m.a.checkWechat(e).then(function(e){"0"===e.code&&d.a.config({debug:!0,appId:e.data.appID,timestamp:e.data.timestamp,nonceStr:e.data.noncestr,signature:e.data.signature,jsApiList:["onMenuShareAppMessage","onMenuShareTimeline"]})}),d.a.ready(function(){var e=this.radio,t="http://www.mystery-vr.com/?uuid="+e;d.a.onMenuShareAppMessage({title:"尊敬的xxx,分享标题",desc:"请柬描述",link:t,imgUrl:"https://beihaozhuan.oss-cn-zhangjiakou.aliyuncs.com/images/13198600801258.jpg",type:"link",dataUrl:"",success:function(){var t=this,a={uuid:e};m.a.setGuestSent(a).then(function(e){console.log("res",e),"0"===e.code&&t.getList()})},cancel:function(){}})})},methods:{getList:function(){var e=this,t=this.status;"请选择状态"===t?t="":"已入场"===t?t="true":"未入场"===t&&(t="false");var a={unit:500,page:1,camp:"全部来宾"===this.people?"":this.people,numberOFTable:"请选择桌号"===this.table?"":this.table,attended:t};m.a.getGuest(a).then(function(t){console.log("res",t),"0"===t.code&&(e.listData=t.data)})},onConfirm:function(e){this.value=e,console.log(e),this.showPickerOne?this.people=e:this.showPickerTwo?this.table=e:this.showPickerThree&&(this.status=e),this.getList(),this.hidePop()},onCancel:function(){this.hidePop()},hidePop:function(){this.showPickerOne=!1,this.showPickerTwo=!1,this.showPickerThree=!1}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shareCon"},[a("div",{staticClass:"shareTitle"},[e._v("\n    会务宝-请柬分享\n  ")]),e._v(" "),a("div",{staticClass:"searchCon"},[a("div",{staticClass:"selectItem"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.people,expression:"people"}],attrs:{type:"text",placeholder:"全部来宾",readonly:""},domProps:{value:e.people},on:{click:function(t){e.showPickerOne=!0},input:function(t){t.target.composing||(e.people=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"selectItem"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.table,expression:"table"}],attrs:{type:"text",placeholder:"桌号",readonly:""},domProps:{value:e.table},on:{click:function(t){e.showPickerTwo=!0},input:function(t){t.target.composing||(e.table=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"selectItem",staticStyle:{"margin-right":"0"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],attrs:{type:"text",placeholder:"状态",readonly:""},domProps:{value:e.status},on:{click:function(t){e.showPickerThree=!0},input:function(t){t.target.composing||(e.status=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"shareList"},[a("van-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("van-cell-group",e._l(e.listData,function(t,s){return a("div",{key:s,staticClass:"listCart",class:"true"===t.hasSent?"hasSentListCart":""},[a("van-cell",{attrs:{title:"",clickable:""},on:{click:function(a){e.radio=t.uuid}}},[a("div",{staticClass:"leftCon"},[a("div",{staticClass:"leftItem"},[a("div",{staticClass:"leftItemCell name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"leftItemCell belong"},[e._v(e._s(t.camp))]),e._v(" "),a("div",{staticClass:"leftItemCell nickName"},[e._v(e._s(t.title))])]),e._v(" "),a("div",{staticClass:"leftItem leftItemTwo"},[a("div",{staticClass:"leftItemCell conTable belong"},[e._v("桌号")]),e._v(" "),a("div",{staticClass:"leftItemCell belong"},[e._v(e._s(t.numberOFTable))]),e._v(" "),a("div",{staticClass:"leftItemCell ststus"},[e._v(e._s("true"===t.attended?"已入场":"未入场"))])])]),e._v(" "),a("van-radio",{attrs:{slot:"right-icon",name:t.uuid},slot:"right-icon"})],1)],1)}),0)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPickerOne||e.showPickerTwo||e.showPickerThree,expression:"showPickerOne || showPickerTwo || showPickerThree"}],staticClass:"mask",on:{click:function(t){return e.hidePop()}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPickerOne,expression:"showPickerOne"}],staticClass:"selectCon"},[a("van-picker",{attrs:{"show-toolbar":"",title:"",columns:e.selectOptions},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPickerTwo,expression:"showPickerTwo"}],staticClass:"selectCon"},[a("van-picker",{attrs:{"show-toolbar":"",title:"",columns:e.tableSelectOptions},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPickerThree,expression:"showPickerThree"}],staticClass:"selectCon"},[a("van-picker",{attrs:{"show-toolbar":"",title:"",columns:e.statusSelectOptions},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1)])},staticRenderFns:[]};var v=a("VU/8")(p,h,!1,function(e){a("dWR/")},"data-v-7088872a",null).exports,f={name:"Scan",data:function(){return{seatList:[{seatStyle:{top:"1.7rem",left:"2rem"},tableNum:"A",num:"0",capacity:0},{seatStyle:{top:"3.5rem",left:"1.2rem"},tableNum:"B",num:"0",capacity:0},{seatStyle:{top:"5.2rem",left:"2rem"},tableNum:"C",num:"0",capacity:0},{seatStyle:{top:"7rem",left:"1.2rem"},tableNum:"D",num:"0",capacity:0},{seatStyle:{top:"8.8rem",left:"2rem"},tableNum:"E",num:"0",capacity:0},{seatStyle:{top:"10.6rem",left:"1.2rem"},tableNum:"F",num:"0",capacity:0},{seatStyle:{top:"1.7rem",left:"6.1rem"},tableNum:"G",num:"0",capacity:0},{seatStyle:{top:"3.5rem",left:"6.8rem"},tableNum:"H",num:"0",capacity:0},{seatStyle:{top:"5.2rem",left:"6.1rem"},tableNum:"I",num:"0",capacity:0},{seatStyle:{top:"7rem",left:"6.8rem"},tableNum:"J",num:"0",capacity:0},{seatStyle:{top:"8.8rem",left:"6.1rem"},tableNum:"K",num:"0",capacity:0},{seatStyle:{top:"10.6rem",left:"5.8rem"},tableNum:"L",num:"0",capacity:0},{seatStyle:{top:"10.6rem",left:"7.6rem"},tableNum:"M",num:"0",capacity:0}],total:"",inTotal:""}},mounted:function(){var e=encodeURIComponent(window.location.href);m.a.checkWechat(e).then(function(e){"0"===e.code&&d.a.config({debug:!0,appId:e.data.appID,timestamp:e.data.timestamp,nonceStr:e.data.noncestr,signature:e.data.signature,jsApiList:["scanQRCode"]})})},created:function(){this.getList()},methods:{getList:function(){var e=this;m.a.getTableArray().then(function(t){"0"===t.code&&(e.inTotal=t.data.inTotal,e.total=t.data.total,e.changeList(t.data.seatList))})},changeList:function(e){for(var t=this.seatList,a=0;a<e.length;a++)t[a].num=e[a].num,t[a].capacity=e[a].capacity},scan:function(){d.a.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(e){var t=e.resultStr;alert(t)}})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signInCon"},[a("div",{staticClass:"signInTitle"},[e._v("\n    会务宝-签到\n  ")]),e._v(" "),a("div",{staticClass:"topCon"},[a("div",{staticClass:"already"},[e._v("已入场  "+e._s(e.inTotal)+"/"+e._s(e.total))]),e._v(" "),a("div",{staticClass:"scanBtn",on:{click:function(t){return e.scan()}}},[e._v("扫码")])]),e._v(" "),a("div",{staticClass:"picCon"},[a("div",{staticClass:"stageCon"}),e._v(" "),e._l(e.seatList,function(t){return a("div",{staticClass:"seatCon",style:t.seatStyle},[a("div",{staticClass:"num"},[e._v(e._s(t.tableNum))]),e._v(" "),a("div",{staticClass:"totalNum"},[e._v(e._s(t.num)+"/"+e._s(t.capacity))])])})],2)])},staticRenderFns:[]};var w=a("VU/8")(f,g,!1,function(e){a("wexv")},"data-v-a16cd83c",null).exports;s.default.use(o.a);var C=new o.a({mode:"history",base:"/index/",routes:[{path:"/",name:"Invitation",component:l},{path:"/share",name:"Share",component:v},{path:"/scan",name:"Scan",component:w}]}),y=(a("sVYa"),a("7QTg")),_=a.n(y),b=(a("v2ns"),a("pFYg")),T=a.n(b),k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return"text"===e.messageType&&e.show?a("div",{staticClass:"toastMessageBox"},[e._v("\n  "+e._s(e.message)+"\n")]):"success"===e.messageType&&e.show?a("div",{staticClass:"iconMessageBox"},[a("div",{staticClass:"messageIcon success"}),e._v(" "),a("div",{staticClass:"message"},[e._v(e._s(e.message))])]):"error"===e.messageType&&e.show?a("div",{staticClass:"iconMessageBox"},[a("div",{staticClass:"messageIcon error"}),e._v(" "),a("div",{staticClass:"message"},[e._v(e._s(e.message))])]):"loading"===e.messageType&&e.show?a("div",{staticClass:"iconMessageBox"},[a("div",{staticClass:"messageIcon loading"}),e._v(" "),a("div",{staticClass:"message"},[e._v(e._s(e.message))])]):e._e()},staticRenderFns:[]};var S=a("VU/8")({name:"Toast",data:function(){return{message:"",show:!1,messageType:""}}},k,!1,function(e){a("REb1")},"data-v-56f4fa13",null).exports,x=s.default.extend(S),P=void 0,I=null,N=function(e){P||((P=new x).vm=P.$mount(),document.body.appendChild(P.vm.$el)),console.log(e),I&&(clearTimeout(I),I=null,P.show=!1,P.message="");if("string"==typeof e)P.message=e;else{if("object"!==(void 0===e?"undefined":T()(e)))return;var t=e.message,a=e.messageType;P.message=t,P.messageType=a}P.show=!0,I=setTimeout(function(){P.show=!1,clearTimeout(I),I=null,P.message=""},2e3)};N.close=function(){I&&(clearTimeout(I),I=null,P.show=!1,P.message="")},N.install=function(e){console.log("install--------toastMessage"),e.prototype.$toastMessage=N};var L=N,q=a("UF21"),A=a.n(q),R=(a("bJWl"),a("Fd2+")),U=a("pIqd"),O=a.n(U);a("VN0c"),a("4ml/");s.default.use(R.g),s.default.use(R.c),s.default.use(R.d),s.default.use(R.a),s.default.use(R.b),s.default.use(R.e),s.default.use(R.f),s.default.use(O.a),s.default.use(A.a),s.default.use(L);var $=o.a.prototype.push;o.a.prototype.push=function(e){return $.call(this,e).catch(function(e){return e})},s.default.use(_.a),s.default.config.productionTip=!1,s.default.prototype.prev=function(){this.$router.go(-1)},s.default.prototype.fixScroll=function(){window.scrollTo(0,0)},C.beforeEach(function(e,t,a){var s=e.query.scan,n=e.query.share,i=e.query.uuid;n||"/share"===e.path?"/share"===e.path?a():a({path:"/share"}):s||"/scan"===e.path?"/scan"===e.path?a():a({path:"/scan"}):"/"===e.path?a():a({path:"/",query:{uuid:i}})}),new s.default({el:"#app",router:C,components:{App:i},template:"<App/>"})},"dWR/":function(e,t){},ktzB:function(e,t,a){"use strict";var s=a("VN0c"),n={checkWechat:function(e){return s.a.request("/wechat/getSignature?url="+e,{},"get")},addGuest:function(e){return s.a.request("/addGuest",e)},getGuest:function(e){return s.a.request("/getGuest",e)},delGuest:function(e){return s.a.request("/delGuest",e)},setGuestSent:function(e){return s.a.request("/setGuestSent",e)},getTableArray:function(){return s.a.request("/getTableArray",{},"get")},getTableList:function(){return s.a.request("/getTableList",{},"get")},setTable:function(e){return s.a.request("/setTable",e)}};t.a=n},v2ns:function(e,t){},wexv:function(e,t){}},[0]);
//# sourceMappingURL=index.80430cb40f1c39790885.js.map